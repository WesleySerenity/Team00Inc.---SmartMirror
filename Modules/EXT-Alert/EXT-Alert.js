
var logALERT=(...s)=>{};Module.register("EXT-Alert",{requiresVersion:"2.25.0",defaults:{debug:!1,style:1,ignore:[]},start(){this.config.debug&&(logALERT=(...e)=>{console.log("[ALERT]",...e)}),this.AlertDisplay=new AlertDisplay,this.AlertDisplay.prepareAlertPopup();const s={translate:(...e)=>this.translate(...e)};if((isNaN(this.config.style)||this.config.style>2||this.config.style<0)&&(this.config.style=0),this.AlertCommander=new AlertCommander(this.config.style,s),!Array.isArray(this.config.ignore)){let e=this.config.ignore;this.config.ignore=[],e&&this.config.ignore.push(e)}},getScripts(){let s=["/modules/EXT-Alert/components/AlertCommander.js","/modules/EXT-Alert/components/AlertDisplay.js"];return this.config.style===1&&s.push("/modules/EXT-Alert/node_modules/sweetalert2/dist/sweetalert2.all.min.js"),this.config.style===2&&s.push("/modules/EXT-Alert/node_modules/alertifyjs/build/alertify.min.js"),s},getStyles(){let s=["EXT-Alert.css"];return this.config.style===2&&(s.push("/modules/EXT-Alert/node_modules/alertifyjs/build/css/alertify.min.css"),s.push("/modules/EXT-Alert/node_modules/alertifyjs/build/css/themes/default.min.css")),s},getDom(){var s=document.createElement("div");return s.style.display="none",s},getTranslations(){return{en:"translations/en.json",fr:"translations/fr.json"}},notificationReceived(s,e,t){switch(s){case"GA_READY":t.name==="MMM-GoogleAssistant"&&(this.sendSocketNotification("INIT",this.config),this.sendNotification("EXT_HELLO",this.name));break;case"EXT_ALERT":if(this.config.ignore.indexOf(t.name)>=0)return;if(t.name==="MMM-GoogleAssistant"||t.name.startsWith("EXT")){if(!e)return this.AlertCommander.Alert("error",{message:`Alert error by:${t}`});this.AlertCommander.Alert({type:e.type?e.type:"error",message:e.message?e.message:"Unknow message",timer:e.timer?e.timer:null,sender:e.sender?e.sender:t.name,icon:e.icon?e.icon:null,sound:e.sound?e.sound:null})}break}}});

